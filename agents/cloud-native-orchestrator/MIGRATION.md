# Migration Guide: cloud-native-deployment-orchestrator Skill → cloud-native-orchestrator Agent

## Overview

This document guides users migrating from the deprecated `cloud-native-deployment-orchestrator` skill to the new `cloud-native-orchestrator` agent and its 6 specialized skills.

**Effective Date:** 2025-10-26
**Deprecation:** cloud-native-deployment-orchestrator v1.0.0 (skill)
**Replacement:** cloud-native-orchestrator v1.0.0 (agent) + 6 focused skills

---

## What Changed

### Before: Monolithic Skill
The original `cloud-native-deployment-orchestrator` skill attempted to handle:
- Container image optimization
- Kubernetes manifest generation
- Helm chart creation
- Service mesh configuration
- Serverless deployment design
- Cloud platform integration

This violated the ≤2 step principle for skills and created a complex, hard-to-maintain implementation.

### After: Agent + 6 Focused Skills
The new architecture separates concerns:

**Agent:** `cloud-native-orchestrator`
- Orchestrates workflow across skills
- Makes platform and strategy decisions
- Validates cross-skill consistency
- Assembles complete deployment packages

**Skills (each ≤2 steps):**
1. `container-image-optimizer` - Dockerfile creation and security scanning
2. `kubernetes-manifest-generator` - K8s YAML manifests
3. `helm-chart-builder` - Helm charts with multi-environment support
4. `service-mesh-configurator` - Istio/Linkerd traffic management
5. `serverless-deployment-designer` - Lambda/Functions configuration
6. `cloud-platform-integrator` - EKS/AKS/GKE cloud integration

---

## Migration Paths

### Path 1: Simple Kubernetes Deployment (T1)

**Old approach:**
```yaml
skill: cloud-native-deployment-orchestrator
inputs:
  application_type: microservices
  target_platform: kubernetes
  cloud_provider: aws
  deployment_tier: T1
```

**New approach:**
Use focused skills directly:
```yaml
# Step 1: Optimize container
skill: container-image-optimizer
inputs:
  application_language: nodejs
  build_type: production

# Step 2: Generate manifests
skill: kubernetes-manifest-generator
inputs:
  workload_name: myapp
  workload_type: deployment
  container_image: myregistry/myapp:1.0.0

# Step 3: Cloud integration
skill: cloud-platform-integrator
inputs:
  cloud_provider: aws
  cluster_name: my-eks-cluster
  region: us-east-1
```

### Path 2: Production Microservices (T2+)

**Old approach:**
```yaml
skill: cloud-native-deployment-orchestrator
inputs:
  application_type: microservices
  target_platform: kubernetes
  cloud_provider: aws
  deployment_tier: T2
  requirements: {security, observability, cost}
```

**New approach:**
Use the orchestrator agent:
```yaml
agent: cloud-native-orchestrator
inputs:
  application_architecture: "5-service microservices architecture"
  target_platform: kubernetes
  cloud_provider: aws
  deployment_tier: T2
  requirements: {security, observability, cost}

# Agent will automatically invoke:
# 1. container-image-optimizer (T2)
# 2. helm-chart-builder (T2) - for multi-environment
# 3. service-mesh-configurator (T2) - for >5 services
# 4. cloud-platform-integrator (T2)
```

### Path 3: Hybrid Kubernetes + Serverless (T2)

**Old approach:**
```yaml
skill: cloud-native-deployment-orchestrator
inputs:
  application_type: event-driven
  target_platform: hybrid
  cloud_provider: aws
  deployment_tier: T2
```

**New approach:**
Use the orchestrator agent:
```yaml
agent: cloud-native-orchestrator
inputs:
  application_architecture: "Core API on K8s + event handlers on Lambda"
  target_platform: hybrid
  cloud_provider: aws
  deployment_tier: T2

# Agent will invoke:
# 1. container-image-optimizer (for K8s services)
# 2. kubernetes-manifest-generator or helm-chart-builder
# 3. serverless-deployment-designer (for Lambda functions)
# 4. cloud-platform-integrator
```

---

## Input Mapping

### Removed/Renamed Inputs

| Old Input | New Location | Notes |
|-----------|--------------|-------|
| `application_type` | `application_architecture` | More descriptive name |
| `existing_infrastructure` | `migration_context` | Optional in agent |
| `requirements` | Same | Still used by agent |

### Output Mapping

| Old Output | New Location | Notes |
|------------|--------------|-------|
| `deployment_manifests` | `deployment_package/` | Now organized by type |
| `architecture_diagram` | `docs/ARCHITECTURE.md` | Generated in docs/ |
| `security_config` | `deployment_package/` | Per skill domain |
| `ci_cd_integration` | `recommendations.next_steps` | No longer generated by default |
| `cost_estimate` | `estimated_costs` | More detailed breakdown |
| `migration_plan` | `recommendations.migration_plan` | T3 only |

---

## Benefits of New Architecture

### For Simple Use Cases
- **Faster**: Use only the skills you need (e.g., just `kubernetes-manifest-generator`)
- **Clearer**: Each skill has a focused purpose
- **Easier to learn**: Smaller, simpler skill interfaces

### For Complex Use Cases
- **More modular**: Mix and match skills as needed
- **Better validation**: Cross-skill validation by orchestrator
- **Extensible**: Add new skills without modifying agent

### For Maintenance
- **Easier to update**: Skills can be updated independently
- **Simpler testing**: Test skills in isolation
- **Better separation of concerns**: Platform logic vs. implementation

---

## Troubleshooting

### Issue: "I just want Kubernetes manifests, not a full orchestration"

**Solution:** Use `kubernetes-manifest-generator` skill directly instead of the agent.

```yaml
skill: kubernetes-manifest-generator
inputs:
  workload_name: myapp
  workload_type: deployment
  container_image: myregistry/myapp:1.0.0
  port: 8080
  replicas: 3
```

### Issue: "I need Helm charts but not service mesh"

**Solution:** Use `helm-chart-builder` skill directly.

```yaml
skill: helm-chart-builder
inputs:
  chart_name: myapp
  app_version: "1.0.0"
  resources: [Deployment, Service, ConfigMap]
  environments: [dev, staging, prod]
```

### Issue: "Agent is too complex for my simple deployment"

**Solution:** Use skills directly for T1 deployments. The agent is designed for T2+ orchestration.

### Issue: "How do I know which skills to use?"

**Solution:** Refer to the agent's skill selection matrix in AGENT.md or invoke the agent with `deployment_tier: T1` for a recommendation.

---

## Backward Compatibility

The original `cloud-native-deployment-orchestrator` skill is deprecated but will remain available with a deprecation notice until **2026-01-26** (90 days).

**Deprecation notice in skill:**
```yaml
deprecated: true
deprecated_date: "2025-10-26"
replacement: "agents/cloud-native-orchestrator"
sunset_date: "2026-01-26"
```

After the sunset date, the skill will be removed from the repository.

---

## Timeline

- **2025-10-26**: New agent and skills released; old skill deprecated
- **2025-11-26**: Deprecation warnings added to old skill (30 days)
- **2026-01-26**: Old skill removed from repository (90 days)

---

## Support

For questions or issues during migration:
1. Check the agent and skill documentation in `/agents/cloud-native-orchestrator/` and `/skills/`
2. Review examples in `/agents/cloud-native-orchestrator/examples/`
3. File an issue in the repository with migration questions

---

## Quick Reference Card

```
Single container → container-image-optimizer
K8s manifests (1 env) → kubernetes-manifest-generator
K8s manifests (multi-env) → helm-chart-builder
Service mesh → service-mesh-configurator
Serverless → serverless-deployment-designer
Cloud integration → cloud-platform-integrator

Complex orchestration → cloud-native-orchestrator (agent)
```
